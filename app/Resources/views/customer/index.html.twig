{% extends 'base.html.twig' %}

{% block body %}

	  {% for flashMessage in app.session.flashbag.get('success') %}
	  <div class="alert alert-success alert-dismissible" role="alert">
        <button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">&times;</span></button>
  		{{ flashMessage }}
	  </div>
	  {% endfor %}

	<div class="panel panel-primary">

      <div class="panel-heading">Create a Customer</div>
      <div class="panel-body">
      	<a class="btn btn-success" href="{{ path('customer_create') }}">Create a Customer</a>
      </div>
    </div>

	<div class="panel panel-primary">
      <div class="panel-heading">Customer List</div>
      <div class="panel-body">
      	<table class="table">
    		<thead>
    			<tr>
	    			<th>Name</th>
            <th>Tel No</th>
	    			<th>Address</th>
            <th>Room</th>
            <th></th>
	    		</tr>
    		</thead>
    		<tbody>
    			{% for customer in customers %}
    			<tr>
	    			<td>{{ customer.name       }}</td>
            <td>{{ customer.telNo      }}</td>
            <td>{{ customer.address    }}</td>
            <td>{{ customer.roomNo.id }}</td>
	    			<td>
	    				<a class="btn btn-default" href="{{ path('customer_edit', { 'id' : customer.id } ) }}">Edit</a>
	    				<form method="post" action="{{ path('customer_delete', { 'id' : customer.id } ) }}" style="display: inline;">
	    					<input type="submit" class="btn btn-danger" name="save" value="Delete">
	    				</form>
	    			</td>
    			</tr>
    			{% endfor %}
    		</tbody>
  		</table>
      </div>
    </div>

{% endblock %}